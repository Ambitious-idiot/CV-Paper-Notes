# SPPnet 笔记

[TOC]

## $\sect0$ 背景

使用 CNN 进行图像特征的提取并不需要对输入图片的尺寸进行限制，但是囿于特征与其后的线性层或 SVM 等分类器的接口处需要对输入进行限制，导致进行特征提取前也需要对图像进行裁剪或拉伸。裁剪有可能导致目标的损失，而拉伸会导致图像的几何扭曲。这些现象都会导致目标检测的准确率降低。将传统图像处理中的空间金字塔迁移至卷积神经网络与探测头部分的接口可以解决以上问题。

## $\sect1$ 空间金字塔池化（SPP）

普通的池化中限制池化核的尺寸，而SPP中池化核的尺寸限制为与特征图尺寸成正比（而不是一个确定值）。例如将图像进行$2\times2$的划分，则将图像四等分的各个区域内分别进行一次最大池化，得到$2\times2$的输出。这样，确定若干不同的划分方式，每一种划分在不同尺寸图片得到的输出都是相同的维数。因此只要对划分和CNN最终的输出channel进行确定，输出的维数就可以确定。

## $\sect2$ SPP的优点

SPP使用不同尺度的划分进行池化，就可以得到不同空间尺度下的特征。同时可以避免限制输入图片尺寸的调整，避免预处理过程中的信息损失。

## $\sect3$ 对于RCNN的优化

RCNN对每个窗口分别进行CNN提取特征，速度很慢。而使用SPP取代CNN最后一次池化后，只在特征图对应原图的位置进行池化就可以得到对应位置特征，速度得到提升。

## $\sect4$ 模型细节

模型流程：
$$
\space^{SS选取预选框}_{CNN提取特征}\stackrel{CNN}{\longrightarrow}特征向量\to SVM
$$
实验证明了SPPnet带来的增益并不只是来源于参数的增加，而是其对目标变形和空间布局变化的鲁棒性。

多尺寸特征提取可以提升效果。

多模型的集成可以显著提升目标检测效果。

传统图像处理的算法与思想也可以进行迁移提升基于神经网络的模型的效果。



